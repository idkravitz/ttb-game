<!DOCTYPE html>

<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Tactical turn-based game</title>
    <link href="style.css" rel="stylesheet" type="text/css">
</head>

<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js'></script>

<script language="JavaScript">

$(document).ready(function()
{

    var strMap='11111.x1x...x...x2x.22222';

    var n = Math.sqrt(strMap.length);
    map = new Array();
    var k = 0;
    for(var i = 0; i < n; i++)
    {
        map[i] = new Array();
        for(var j = 0; j < n; j++)
        {
            map[i][j] = strMap.charAt(k);
            k++;
        }
    }

    var tableMap = document.getElementById("tableMap");
    var row = tableMap.insertRow(0);
    var colorsMap = {
        'x': '#666666',
        '1': '#ff6666',
        '.': '#66cc00',
        '2': '#6666ff'
    };
    for (var i = 0; i < n; i++)
    {
        var row = tableMap.insertRow(i);
        for (var j = 0; j < n; j++)
        {
            var cell = row.insertCell(j);
            cell.style.backgroundColor = colorsMap[map[i][j]];
        }
    }

    var dw = $('#field').offset().left + ($('#field').width() - $('#fullMap').width())/2;
    var dh = $('#field').offset().top + ($('#field').height() - $('#fullMap').height())/2;
    $('#fullMap').offset({top:dh, left:dw});

});

</script>

<body>
    <ul id="menu">
        <li id="current-game">Game name</li>
    </ul>

    <section id="content">
        <div id="field">

        <div id="fullMap">
        	<table id="tableMap"></table>
        </div>

        </div>
        <div id="control-panel"><p>Control panel</p></div>
    </section>

    <footer>
        <p>FEFU IMCS, 2010</p>
    </footer>    
</body>
</html>